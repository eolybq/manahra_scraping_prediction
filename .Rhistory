if (id %in% ceny[[1]]) {
ceny[["11"]][ceny[[1]] == id] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% volume[[1]]) {
volume[["11"]][volume[[1]] == id + 1] <- t11$X7[i]
}
}
load("data/ceny_t_1.RData")
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny_t_1[[1]]) {
ceny_t_1[["11"]][ceny_t_1[[1]] == id + 1] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny[[1]]) {
ceny[["12"]][ceny[[1]] == id] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny_t_1[[1]]) {
ceny_t_1[["12"]][ceny_t_1[[1]] == id + 1] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% volume[[1]]) {
volume[["12"]][volume[[1]] == id + 1] <- t11$X7[i]
}
}
load("data/ceny.RData")
load("data/ceny_t_1.RData")
load("data/objem.RData")
t11 <- read_delim("11_test.csv", delim = ";", col_names = FALSE)
t11 <- map_df(t11, ~ as.integer(gsub("\u00A0", "", .)))
t11 <- t11 %>% select(X1, X4, X7)
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny[[1]]) {
ceny[["11"]][ceny[[1]] == id] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny_t_1[[1]]) {
ceny_t_1[["11"]][ceny_t_1[[1]] == id + 1] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% volume[[1]]) {
volume[["11"]][volume[[1]] == id + 1] <- t11$X7[i]
}
}
t11 <- read_delim("11_test.csv", delim = ";", col_names = FALSE)
t11 <- map_df(t11, ~ as.integer(gsub("\u00A0", "", .)))
t11 <- t11 %>% select(X1, X4, X7)
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny[[1]]) {
ceny[["12"]][ceny[[1]] == id] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny_t_1[[1]]) {
ceny_t_1[["12"]][ceny_t_1[[1]] == id + 1] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% volume[[1]]) {
volume[["12"]][volume[[1]] == id + 1] <- t11$X7[i]
}
}
t11 <- read_delim("11_test.csv", delim = ";", col_names = FALSE)
t11 <- map_df(t11, ~ as.integer(gsub("\u00A0", "", .)))
t11 <- t11 %>% select(X1, X4, X7)
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny[[1]]) {
ceny[["13"]][ceny[[1]] == id] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny_t_1[[1]]) {
ceny_t_1[["13"]][ceny_t_1[[1]] == id + 1] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% volume[[1]]) {
volume[["13"]][volume[[1]] == id + 1] <- t11$X7[i]
}
}
t11 <- read_delim("11_test.csv", delim = ";", col_names = FALSE)
t11 <- map_df(t11, ~ as.integer(gsub("\u00A0", "", .)))
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
names(volume)
volume[, -ncol(volume)]
volume <- volume[, -ncol(volume)]
t11 <- read_delim("11_test.csv", delim = ";", col_names = FALSE)
ceny <- map_chr(t11$X4, ~ str_split(., " / "))
library(stringr)
map_chr(t11$X4, ~ str_split(., " / "))
map(t11$X4, ~ str_split(., " / "))
ceny <- map(t11$X4, ~ str_split(., " / "))
load("data/ceny.RData")
save(ceny_t_1, file = "data/ceny_t_1.RData")
save(volume, file = "data/objem.RData")
save(ceny_t_1, file = "data/ceny_t_1.RData")
save(ceny_t_1, file = "data/ceny_t_1.RData")
save(volume, file = "data/objem.RData")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
save(ceny, file = "data/ceny.RData")
t11 <- read_delim("11_test.csv", delim = ";", col_names = FALSE)
ceny_ic <- map(t11$X4, ~ str_split(., " / "))
str(ceny_ic)
ceny_ic_final <- map_chr(ceny_ic, ~ .[[2]])
View(ceny_ic)
ceny_ic_final <- map_chr(ceny_ic, ~ .[[1]][[2]])
ceny_ic_final
t11$X4 <- ceny_ic_final
t11 <- map_df(t11, ~ as.integer(gsub("\u00A0", "", .)))
t11 <- t11 %>% select(X1, X4, X7)
names(ceny)
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny[[1]]) {
ceny[["IC_all"]][ceny[[1]] == id] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% ceny_t_1[[1]]) {
ceny_t_1[["IC_all"]][ceny_t_1[[1]] == id + 1] <- t11$X4[i]
}
}
for (i in 1:nrow(t11)) {
id <- t11$X1[i]
if (id %in% volume[[1]]) {
volume[["IC_all"]][volume[[1]] == id + 1] <- t11$X7[i]
}
}
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
save(ceny, file = "data/ceny.RData")
ceny[-nrow(ceny), ]
tail(ceny[-nrow(ceny), ])
tail(ceny_t_1[-nrow(ceny_t_1), ])
ceny_t_1 <- ceny_t_1[-nrow(ceny_t_1), ]
save(ceny_t_1, file = "data/ceny_t_1.RData")
volume[-nrow(volume), ]
volume <- volume[-nrow(volume), ]
save(volume, file = "data/objem.RData")
load("data/ceny.RData")
load("data/ceny_t_1.RData")
load("data/objem.RData")
load("data/data.RData")
View(ceny)
View(ceny_t_1)
View(volume)
# ceny==========
# ulozeni cen a objemu a cena_t-1 do "data"
walk(names(ceny[-1]), ~ {
data[data$podnik == ., "cena"] <<- ceny[[.]]
data[data$podnik == ., "objem_burza_t-1"] <<- volume[[.]]
data[data$podnik == ., "cena_t-1"] <<- ceny_t_1[[.]]
})
save(data, file = "data/data.RData")
load("data/data.RData")
load("data/ceny.RData")
View(ceny)
library(readxl)
library(readr)
library(tibble)
library(dplyr)
library(purrr)
load("data/data.RData")
View(data)
load("data/data.RData")
library(fixest)
library(readxl)
library(readr)
library(tibble)
library(dplyr)
library(purrr)
data |>
filter(podnik == 11)
library(tidyverse)
?tidyvcerse
?tidyverse
data |>
filter(podnik == 11) |>
ggplot(
aes(x = kolo, y = cena)
) +
geom_line()
?seq_along
data |>
filter(podnik == 11) |>
ggplot(
aes(x = kolo, y = cena)
) +
geom_line() +
scale_x_continuous(breaks = seq_along(data$kolo))
data |>
filter(podnik == 11) |>
ggplot(
aes(x = kolo, y = cena)
) +
geom_line() +
scale_x_continuous(breaks = unique(data$kolo))
data |>
filter(podnik == 11 & kolo = 0) |>
data |>
filter(podnik == 11 & kolo == 1) |>
ggplot(
aes(x = kolo, y = cena)
) +
geom_line() +
scale_x_continuous(breaks = unique(data$kolo))
data |>
filter(podnik == 11 & kolo == 1) |>
ggplot(
aes(x = kolo, y = cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
group_by(kolo) |>
ggplot(
aes(x = kolo, y = cena)
) +
geom_line()
plot(data$kolo[data$podnik == 11 & data$kolo == 1, ])
plot(data$kolo[data$podnik == "11" & data$kolo == 1, ])
data$kolo[data$podnik == "11" & data$kolo == 1, ]
plot(data[data$podnik == "11" & data$kolo == 1, ])
plot(data[data$podnik == "11" & data$kolo == 1, "cena"])
data |>
filter(podnik == 11) |>
ggplot(
aes(x = kolo, y = cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 1_56, y = cena)
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 1:56, y = cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 0:56, y = cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 0:55, y = cena)
) +
geom_line()
library(tseries)
adf.test(data$cena)
adf.test(data[data$podnik == 11, cena])
adf.test(data[data$podnik == 11, "cena"])
data |>
filter(podnik == 11) |>
select(cena) |>
adf.test() |>
select()
data |>
filter(podnik == 11) |>
select(cena) |>
adf.test() |>
select()
data |>
filter(podnik == 11) |>
adf.test(.$cena) |>
ggplot(
aes(x = 0:55, y = cena)
) +
geom_line()
?pull
data |>
filter(podnik == 11) |>
pull(cena) |>
adf.test()
?diff
data |>
filter(podnik == 11) |>
pull(cena) |>
diff() |>
adf.test()
data |>
filter(podnik == 11) |>
pull(cena) |>
log() |>
adf.test()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 0:55, y = diff(cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 0:56, y = diff(cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 0:54, y = diff(cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 0:55, y = diff(cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 0:56, y = diff(cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 1:56, y = diff(cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 1:56, y = diff(cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 1:55, y = diff(cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 1:54, y = diff(cena))
) +
geom_line()
data |> filter(podnik == 11) |>
pull(cena) |> diff()
data |> filter(podnik == 11) |>
pull(cena) |> diff() |> length()
length(1:55)
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 1:55, y = diff(cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
ggplot(
aes(x = 1:length(diff(cena)), y = diff(cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
mutate(diff_cena = diff(cena)) |>
ggplot(
aes(x = 1:seq_along(diff_cena), y = diff_cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
mutate(diff_cena = diff(cena)) |>
ggplot(
aes(x = 2:seq_along(diff_cena), y = diff_cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
mutate(diff_cena = diff(cena)) |>
ggplot(
aes(x = 1:56, y = diff_cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
mutate(diff_cena = diff(cena)) |>
ggplot(
aes(x = 1:55, y = diff_cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
mutate(diff_cena = c(NA, diff(cena))) |>
ggplot(
aes(x = 1:55, y = diff_cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
mutate(diff_cena = c(NA, diff(cena))) |>
ggplot(
aes(x = 1:56, y = diff_cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
mutate(diff_cena = c(NA, diff(cena))) |>
ggplot(
aes(x = 1:56, y = log(diff_cena))
) +
geom_line()
data |>
filter(podnik == 11) |>
mutate(diff_cena = c(NA, diff(cena))) |>
ggplot(
aes(x = 1:56, y = diff_cena)
) +
geom_line()
data |>
filter(podnik == 11) |>
pull(cena) |>
diff() |>
adf.test() |>
acf() |>
pacf()
test_data <- data |>
filter(podnik == 11) |>
pull(cena) |>
diff()
test_cena_11 <- data |>
filter(podnik == 11) |>
pull(cena) |>
diff()
adf.test(test_cena_11)
acf(test_cena_11)
pacf(test_cena_11)
acf(test_cena_11)
pacf(test_cena_11)
?bptest?
?bptest
library(readxl)
library(tidyverse)
library(fixest)
library(tseries)
load("data/ceny.RData")
load("data/ceny_t_1.RData")
View(ceny)
# Scraping
# Zadat vždy burzovní kolo (Výysledky ze dne "".) do fce
source("./scraping.R")
save_price(50)
View(ceny_t_1)
library(readxl)
library(tidyverse)
library(fixest)
library(tseries)
load("data/ceny.RData")
View(ceny)
load("data/ceny_t_1.RData")
View(ceny_t_1)
load("data/objem.RData")
load("data/data.RData")
